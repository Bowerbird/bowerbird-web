define(["jquery","underscore","backbone","app","models/user"],function(a,b,c,d,e){var f={};return f.newActivity=function(a){log("activityController.newActivity: "+a.Description),log(a),alert("new activity received")},f.userStatusUpdate=function(a){log("activityController.userStatusUpdate"),log(a);if(!b.any(d.onlineUsers,function(b){return b.id==a.Id})){if(a.Status==2||a.Status==3||a.Status=="undefined")return;var c=new e(a);d.onlineUsers.add(c)}else{var c=d.onlineUsers.get(a.Id);a.Status==2||a.Status==3?d.onlineUsers.remove(c):c.set("Status",a.Status)}},f})