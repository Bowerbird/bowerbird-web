define(["jquery","underscore","backbone","app","views/projectformlayoutview","models/project"],function(a,b,c,d,e,f){var g={},h=function(b){var c=new a.Deferred;if(d.isPrerendering("projects"))c.resolve(d.prerenderedView.data);else{var e={};b&&(e.id=b),a.ajax({url:"/projects/create",data:e}).done(function(a){c.resolve(a.Model)})}return c.promise()};return g.showProjectForm=function(b){log("projectController:showProjectForm"),a.when(h(b)).done(function(a){var b=new f(a.Project),c=new e({model:b,teams:a.Teams});d.content[d.getShowViewMethodName()](c),d.isPrerendering("projects")&&c.showBootstrappedDetails(),d.setPrerenderComplete()})},g})