define(["jquery","underscore","backbone","app","views/postformlayoutview","models/post"],function(a,b,c,d,e,f){var g={},h=function(b){var c=new a.Deferred;if(d.isPrerendering("posts"))c.resolve(d.prerenderedView.data);else{var e={};b&&(e.id=b),a.ajax({url:"/posts/create",data:e}).done(function(a){c.resolve(a.Model)})}return c.promise()};return g.showPostForm=function(b){log("postController:showPostForm"),a.when(h(b)).done(function(a){var b=new f(a.Post),c=new e({model:b});d.content[d.getShowViewMethodName()](c),d.isPrerendering("posts")&&c.showBootstrappedDetails(),d.setPrerenderComplete()})},g})