define(["jquery","underscore","backbone","app","ich","loadimage","views/editavatarview","multiselect","fileupload"],function(a,b,c,d,e,f,g){var h=c.Marionette.Layout.extend({className:"form single-medium team-form",template:"TeamForm",regions:{avatar:"#avatar-fieldset"},events:{"click #cancel":"_cancel","click #save":"_save","change input#Name":"_contentChanged","change textarea#Description":"_contentChanged","change input#Website":"_contentChanged","change #organisation-field input:checkbox":"_organisationChanged"},initialize:function(a){log("teamFormLayoutView.initialize"),this.organisations=a.organisations},serializeData:function(){return log("teamFormLayoutView.serializeData"),{Model:{Team:this.model.toJSON(),Organisations:this.organisations}}},onShow:function(){log("teamFormLayoutView.onShow"),this._showDetails()},showBootstrappedDetails:function(){log("teamFormLayoutView.showBootstrappedDetails"),this.initializeRegions()},_showDetails:function(){log("teamFormLayoutView._showDetails"
);var c=new g({el:"#avatar-fieldset",model:this.model});c.render(),this.organisationListSelectView=this.$el.find("#Organisation").multiSelect({selectAll:!1,singleSelect:!0,noOptionsText:"No Organisations",noneSelected:"Select An Organisation",oneOrMoreSelected:function(c){var d=a("<span />");return b.each(c,function(a){d.append("<span>"+a.text+"</span> ")}),d.children()}})},_contentChanged:function(b){log("teamFormLayoutView._contentChanged");var c=a(b.currentTarget),d={};d[c.attr("id")]=c.attr("value"),this.model.set(d)},_organisationChanged:function(b){log("teamFormLayoutView._organisationChanged");var c=a(b.currentTarget);c.attr("checked")==="checked"?this.model.set("Organisation",c.attr("value")):this.model.set("Organisation","")},_cancel:function(){},_save:function(){this.model.save()}});return h})