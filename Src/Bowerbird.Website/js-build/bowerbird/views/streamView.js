define(["jquery","underscore","backbone","app","ich","views/streamitemview"],function(a,b,c,d,e,f){var g=c.Marionette.CompositeView.extend({template:"Stream",itemView:f,className:"stream",events:{"click #stream-load-more-button":"loadNextStreamItems"},initialize:function(a){this.collection.on("fetching",this.onStreamLoadingStart,this),this.collection.on("fetched",this.onsStreamLoadingComplete,this)},showBootstrappedDetails:function(){},appendHtml:function(a,b){a.$el.find(".stream-list").append(b.el)},onStreamLoadingStart:function(a){this.$el.find("#stream-load-more").remove(),this.$el.find(".stream-list").append(e.StreamListLoading({Text:"Loading",ShowLoader:!0}))},onsStreamLoadingComplete:function(a){this.toggleNoStreamItemsStatus(a),a.pageInfo().next&&this.$el.find(".stream-list > div").append(e.StreamListLoading())},toggleNoStreamItemsStatus:function(a){this.$el.find("#stream-status").remove(),a.length===0&&this.$el.find(".stream-list > div").append(e.StreamListLoading({Text:"No activity yet! Start now by adding an observation."
}))},loadNextStreamItems:function(){d.stream.setNextPage()}});return g})