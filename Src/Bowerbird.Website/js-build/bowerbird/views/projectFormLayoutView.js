define(["jquery","underscore","backbone","app","ich","loadimage","views/editavatarview","fileupload","multiselect"],function(a,b,c,d,e,f,g){var h=c.Marionette.Layout.extend({className:"form single-medium project-form",template:"ProjectForm",regions:{avatar:"#avatar-fieldset"},events:{"click #cancel":"_cancel","click #save":"_save","change input#Name":"_contentChanged","change textarea#Description":"_contentChanged","change input#Website":"_contentChanged","change #team-field input:checkbox":"_teamChanged"},initialize:function(a){log("projectFormLayoutView:initialize"),this.teams=a.teams},serializeData:function(){return log("projectFormLayoutView:serializeData"),{Model:{Project:this.model.toJSON(),Teams:this.teams}}},onShow:function(){log("projectFormLayoutView:onShow"),this._showDetails()},showBootstrappedDetails:function(){log("projectFormLayoutView:showBootstrappedDetails"),this.initializeRegions()},_showDetails:function(){log("projectFormLayoutView:_showDetails");var c=new g({el:"#avatar-fieldset"
,model:this.model});c.render(),this.teamListSelectView=this.$el.find("#Team").multiSelect({selectAll:!1,singleSelect:!0,noOptionsText:"No Teams",noneSelected:"Select A Team",oneOrMoreSelected:function(c){var d=a("<span />");return b.each(c,function(a){d.append("<span>"+a.text+"</span> ")}),d.children()}})},_contentChanged:function(b){log("projectFormLayoutView:_contentChanged");var c=a(b.currentTarget),d={};d[c.attr("id")]=c.attr("value"),this.model.set(d)},_teamChanged:function(b){log("projectFormLayoutView:_teamChanged");var c=a(b.currentTarget);c.attr("checked")==="checked"?this.model.set("Team",c.attr("value")):this.model.set("Team","")},_cancel:function(){},_save:function(){this.model.save()}});return h})